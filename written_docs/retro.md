## Retrospective Post-mortem Document  

### Evan  
#### What I learned:  
  The majority of my learning came was with development operations, specifically continuous development / integration, testing, docker, and deployment. A goal for myself for the class was to learn how to use various new technologies, it would be an understatement to say this was the case. I ended up using travis for the CD/CI work and got well attuned with it, learning how it uses stages to build, test, and deploy the application, as well as how to configure the pipeline to our needs and specifications. Even though it ended up being optional, I did learn how to use docker and how it would be applicable with our app. I created a Dockerfile for our app, and got travis to build and deploy a new docker image at the end of every successful pipeline. As far as software architecture is concerned, I got to know our design inside and out as I helped to reshape our codebase to better fit the MVC architecture as we envisioned it. TSLint complimented this process as I linted most of the app, and got to see how different models and controllers worked together. I also got the chance to learn about how node works (mainly npm), did some dependency work, unit testing (via mocha), code coverage (via istanbul’s nyc), and how to run CRON jobs.

#### What I could’ve been done better:  
  I should have been more involved in the process of implementing the user stories, instead of focusing on the background functionality, as sometimes the group members all had different ideas on how the user story would be implemented, and we would fail to have a proper discussion about it until afterwards. I could have also been better at communicating what exactly it was that I was doing. Because a lot of my work went into background processes and dev op stuff, it couldn’t have been all that apparent to my group members what was going on. This is furthered by the fact that you could not see a lot of the results I was getting, only that they worked as expected (testing suite, pipeline). 

### Shaun:
What I learned:
	Over the course of this project I learned more about Typescript then I ever thought I would learn in a single semester. This includes basic syntax, function definitions, typecasting, JSON objects, arrays, imports, classes, asynchronous functions, and everything else in between that was needed to code the user stories that we outlined in Milestone 1. I also learned a great deal about how each of the individual components come together to create the app as a whole, such as how the routers take the HTTP requests sent by the browser and render the views associated with the browser URLs. This ties into MVC architecture, which I gained a large amount of knowledge in by developing this application. After this course, if I were designing another application I’d have a much better idea of what functionality would be located where (ie what would be a model/controller/view component), as well as how I’d implement this functionality. In addition to Typescript, I learned how to create basic PUG forms and views (using conditional logic and an array of different form/button types), and a variety of MongoDB commands for editing, deleting, and adding documents to collections, as well as how to create and modify collections. I also learned how to integration test application routes and unit test functions using mocha and supertest. Overall I learned almost everything I need to develop and test a basic web application in Typescript, using Node.

#### What I could’ve been done better:  
As for what I could’ve done better, the main thing that I could’ve improved on was my limited grasp on some of the more external application components, such as the Travis CI pipeline and the deployment of the app. I also could’ve spent a bit more time cleaning up the UI in PUG, or at least made it a bit more usable. As it is the UI works, but it’s very limited and there are definite UI/UX problems that could occur with the current UI.


### Asim

#### What I learned:  
What I learned:
	Over the course of the semester I got a grasp of the overall process of web development. I became familiar with a new language, typescript, which is not as foreign as I initially expected it to be. I learnt how to set up a project for web development and and implement the MVC architecture. I also became more familiar with unit testing and integration testing. The most important learning outcome for me was to become familiar with the process of designing an app, before the course, I had never gone through the entire process of designing and implementing an app. This time I got to see how the design affects the overall development of the app and why it is important to produce a very good initial design so that the entire development process proceeds smoothly.  
#### What I could’ve been done better:  
Something I could have done better was to be involved in the devops process. Furthermore, I could have been more involved in the development by providing suggestions for the vision of the app and helpign break down development tasks. 


### How our design could have been improved:  
#### Misuse of mongodb connections:  
  Originally throughout our code milestone, we created a new connection to the mongodb whenever a route was called, sometimes creating several at once depending on the functionality used. This design flaw was only discovered late in the project when we needed to have the database concurrently updating as it was being used. We found that updating the database every 2 minutes ate up all the possible mongodb connections very quickly. We were able to find a last minute fix that solved the problem quite well. Instead of using a new connection for each route and model method we would use a global variable that was what connected to the database. In this way we could localise connections to their respective models and controllers, thereby minimizing the existing connections a user might have. However, because the solution was found last minute we were unable to make this fix for the entire application, but rather only for the CRON jobs that needed regular access to the database. In this way, we acknowledge that we can improve the performance of the application overall by redesigning how we connect to the database through the localization of connections.
  
#### Relational Database Instead of MongoDB:

The database schema for the app is relational in nature, however, MongoDB does not support relational database operations, so in order to circumvent this obstacle and keep the schema relational in nature the app grabs the required tables from the database (kind of like a SELECT FROM table1, table2, table3 operation) and crafts the required table from these tables. This murders performance in many operations. For example, the leaderboard view needs to take each user, generate their shoe list, and walk through it to calculate the users average net gain/loss, net gain/loss, and number of shoes. Many of the database operations within the app could be simplified to single SQL queries, requiring only 1 connection to the database instead of many. This, combined with the use of local variables already present within the app, could greatly increase the performance of the app.

#### Local Storage:
Initially for many of our routes we would fetch redundant data from the DB which increased latency in the apps performance. But later on a lot of our functions we are designed to be able to use the redundant data from the previous DB call. For example in the getAllShoes function in customer controller we get all the shoes belonging to a particular user, if the user clicks on a specific shoe then a different view is loaded (oneShoe view) which shows the information specifically related to that shoe. Previously in our design we would have queried the product module to return a shoe object for the id of the shoe that the user clicked. This redesign improved our apps performance. 

#### UI Overhaul:

Currently the UI for the app is very bare bones. It makes the app usable, but only just. There are a few UI/UX problems that could occur with the current UI, for example, if a user has 1000000 shoes then their overview page would be infinitely long, so limiting the amount of data on their page (using multiple pages or some sort of autoloading system) would help alleviate this problem. For the all shoes view, if a user is looking for a specific shoe amongst thousands then there’s no easy way for them to find the shoe they’re looking for. There needs to be a search function that returns an array of shoes that match the keyword so a user can quickly look up a specific shoe that they want to add to their portfolio (as it is there’s not enough data in the database to warrant this function but obviously if the data sizes were realistic this would be a must have). Finally, the notification centre needs to be changed so it sends a notification to the user automatically, as it is the user needs to manually check on their own notifications, but there’s no tutorial that explains this so users could potentially add notifications and never realise this fact.
