{"version":3,"file":"user_model.js","sourceRoot":"","sources":["../../../src/models/user_model.ts"],"names":[],"mappings":";;AAAA,sCAAyC;AAEzC;IAEI;IAAe,CAAC;IAET,4BAAQ,GAAf,UAAgB,MAAW;QACvB,IAAM,KAAK,GAAG,QAAQ,CAAC,OAAO,EAAE;aAC3B,IAAI,CAAC,UAAC,EAAE;YACL,OAAO,EAAG,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC,IAAI,CAAC,EAAC,OAAO,EAAE,MAAM,EAAC,CAAC,CAAC,OAAO,EAAE,CAAC;QACrE,CAAC,CAAC;aACD,IAAI,CAAC,UAAC,QAAa;YAChB,yBAAyB;YACzB,OAAO,QAAQ,CAAC;YAChB,sBAAsB;QAC1B,CAAC,CAAC;aACD,KAAK,CAAC,UAAC,GAAG;YACP,OAAO,CAAC,GAAG,CAAC,aAAa,CAAC,CAAC;QAC/B,CAAC,CAAC,CAAC;QAEP,sBAAsB;QAEtB,OAAO,KAAK,CAAC;IACjB,CAAC;IAEM,4BAAQ,GAAf,UAAgB,MAAW,EAAE,MAAc,EAAE,QAAgB;QACzD,IAAM,OAAO,GAAG,QAAQ,CAAC,OAAO,EAAE;aAC7B,IAAI,CAAC,UAAC,EAAE;YACL,EAAG,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC,MAAM,CAAC,EAAC,OAAO,EAAE,MAAM,EAAC,EAC5C,EAAC,KAAK,EAAE,EAAC,QAAQ,EAAE,EAAC,OAAO,EAAE,MAAM,EAAE,cAAc,EAAE,QAAQ,EAAC,EAAC,EAAC,CAAC,CAAC;YACtE,OAAO,CAAC,GAAG,CAAC,aAAa,CAAC,CAAC;YAC3B,OAAO,IAAI,CAAC;QAChB,CAAC,CAAC;aACD,KAAK,CAAC,UAAC,GAAG;YACP,OAAO,CAAC,GAAG,CAAC,aAAa,CAAC,CAAC;YAC3B,OAAO,KAAK,CAAC;QACjB,CAAC,CAAC,CAAC;QACP,OAAO,OAAO,CAAC;IACnB,CAAC;IAEM,+BAAW,GAAlB,UAAmB,MAAW,EAAE,MAAc;QAC1C,IAAM,UAAU,GAAG,QAAQ,CAAC,OAAO,EAAE;aAChC,IAAI,CAAC,UAAC,EAAE;YACL,EAAG,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC,MAAM,CAAC,EAAC,OAAO,EAAE,MAAM,EAAC,EAC5C,EAAC,KAAK,EAAE,EAAC,QAAQ,EAAE,EAAC,OAAO,EAAE,MAAM,EAAC,EAAC,EAAC,CAAC,CAAC;YAC5C,OAAO,IAAI,CAAC;QAChB,CAAC,CAAC;aACD,KAAK,CAAC,UAAC,GAAG;YACP,OAAO,CAAC,GAAG,CAAC,aAAa,CAAC,CAAC;YAC3B,OAAO,KAAK,CAAC;QACjB,CAAC,CAAC,CAAC;QACP,OAAO,UAAU,CAAC;IACtB,CAAC;IACL,gBAAC;AAAD,CAAC,AAnDD,IAmDC;AAnDY,8BAAS","sourcesContent":["import DbClient = require(\"../DbClient\");\r\n\r\nexport class UserModel {\r\n\r\n    constructor() {}\r\n\r\n    public userInfo(userId: any) {\r\n        const users = DbClient.connect()\r\n            .then((db) => {\r\n                return db!.collection(\"users\").find({user_id: userId}).toArray();\r\n            })\r\n            .then((sneakers: any) => {\r\n                // console.log(sneakers);\r\n                return sneakers;\r\n                // res.send(sneakers);\r\n            })\r\n            .catch((err) => {\r\n                console.log(\"err.message\");\r\n            });\r\n\r\n        // console.log(users);\r\n\r\n        return users;\r\n    }\r\n\r\n    public add_shoe(userId: any, shoeID: number, purchase: number) {\r\n        const shoeAdd = DbClient.connect()\r\n            .then((db) => {\r\n                db!.collection(\"users\").update({user_id: userId},\r\n                    {$push: {shoelist: {shoe_id: shoeID, purchase_price: purchase}}});\r\n                console.log(\"adding shoe\");\r\n                return true;\r\n            })\r\n            .catch((err) => {\r\n                console.log(\"err.message\");\r\n                return false;\r\n            });\r\n        return shoeAdd;\r\n    }\r\n\r\n    public remove_shoe(userID: any, shoeID: number) {\r\n        const shoeRemove = DbClient.connect()\r\n            .then((db) => {\r\n                db!.collection(\"users\").update({user_id: userID},\r\n                    {$pull: {shoelist: {shoe_id: shoeID}}});\r\n                return true;\r\n            })\r\n            .catch((err) => {\r\n                console.log(\"err.message\");\r\n                return false;\r\n            });\r\n        return shoeRemove;\r\n    }\r\n}\r\n"]}