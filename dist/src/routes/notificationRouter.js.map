{"version":3,"file":"notificationRouter.js","sourceRoot":"","sources":["../../../src/routes/notificationRouter.ts"],"names":[],"mappings":"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","sourcesContent":["import { NextFunction, Request, Response, Router} from \"express\";\nimport { ShoeModel } from \"../models/shoe_model\";\nimport { NotificationModel } from \"../models/notification_model\";\nimport { UserModel } from \"../models/user_model\";\nimport { BaseRoute } from \"./router\";\n\nlet userNotifications: any;\nlet Shoes: any;\nlet id:number;\n\nexport class NotificationRouter extends BaseRoute {\n\n    public static create(router: Router) {\n        router.get(\"/user/:id/notifications\", (req: Request, res: Response, next: NextFunction) => {\n            new NotificationRouter().notificationCentre(req, res, next);\n        });\n\n        router.get(\"/user/:id/add_notification/:id2\", (req: Request, res: Response, next: NextFunction) => {\n            new NotificationRouter().inputNotification(req, res, next);\n        });\n\n        router.get(\"/user/:id/edit_notification/:id2\", (req: Request, res: Response, next: NextFunction) => {\n            new NotificationRouter().editNotificationForm(req, res, next);\n        });\n\n        router.post(\"/user/:id/add_notification/:id2\", (req: Request, res: Response, next: NextFunction) => {\n            new NotificationRouter().addNotification(req, res, next);\n        });\n\n        router.post(\"/user/:id/remove_notification/:id2\", (req: Request, res: Response, next: NextFunction) => {\n            new NotificationRouter().removeNotification(req, res, next);\n        });\n\n        router.post(\"/user/:id/edit_notification/:id2\", (req: Request, res: Response, next: NextFunction) => {\n            new NotificationRouter().editNotification(req, res, next);\n        });\n\n\n    }\n\n    // constructor() {\n        // not much here yet\n    // }\n\n    public async notificationCentre(req: Request, res: Response, next: NextFunction) {\n        const idString = \"id\";\n        const userId = parseInt(req.params[idString], 10);\n        if (await this.buildNotifications(userId)) {\n            this.render(req, res, \"notificationCentre\", {id: userId, title: \"Notifications\", notifications:userNotifications});\n        } else {\n            res.status(404)\n            .send({\n                message: \"No user with associated ID. Check the entered number.\",\n                status: res.status,\n            });        }\n    }\n\n    public async addNotification(req: Request, res: Response, next: NextFunction) {\n        const uString = \"id\";\n        const sString = \"id2\";\n        const userID = parseInt(req.params[uString]);\n        const shoeID = parseInt(req.params[sString]);\n        const nIF = new NotificationModel();\n        let threshold = req.body.threshold;\n        if (!threshold) {\n            threshold = 0;\n        }\n        await nIF.add_notif(userID, shoeID, threshold, req.body.type);\n        res.redirect('/user/' + userID + '/allShoes');\n    }\n\n    public async removeNotification(req: Request, res: Response, next: NextFunction) {\n        const uString = \"id\";\n        const idString = \"id2\";\n        const userID = parseInt(req.params[uString]);\n        const notifID = req.params[idString];\n        const nIF = new NotificationModel();\n        await nIF.remove_notif(notifID);\n        res.redirect('/user/' + userID + '/notifications');\n    }\n\n    public async editNotification(req: Request, res: Response, next: NextFunction) {\n        const uString = \"id\";\n        const idString = \"id2\";\n        const userID = parseInt(req.params[uString]);\n        const notifID = req.params[idString];\n        const nIF = new NotificationModel();\n        if (!req.body.threshold) {\n            req.body.threshold = 0;\n        }\n        await nIF.edit_notif(notifID, req.body.threshold, req.body.type);\n        res.redirect('/user/' + userID + '/notifications');\n    }\n\n    private async buildNotifications(userID: number) {\n        if (await this.isUser(userID)) {\n            id = userID;\n            await this.setLocals(userID);\n            for (const item in userNotifications) {\n                if (userNotifications.hasOwnProperty(item)) {\n                    const notification = userNotifications[item];\n                    const shoe = this.getShoe(notification.shoe_id);\n                    notification[\"shoename\"] = shoe.brand + ' ' + shoe.model + ' ' + shoe.colorway;\n                    notification[\"current_price\"] = shoe.current_price;\n                    notification[\"size\"] = shoe.size;\n                    //console.log(notification);\n                    this.checkFulfilled(notification, shoe.current_price);\n                }\n            }\n            userNotifications.sort((a: any, b: any) => {\n                if(a.shoename < b.shoename) { return -1; }\n                if(a.shoename > b.shoename) { return 1; }\n                return 0;\n            });\n            return true;\n        }\n        else return false;\n    }\n\n    private async checkFulfilled(notification: any, current_price: any) {\n        if (!notification.fulfilled) {\n            if ((notification.type == \"Below\") && (notification.threshold > current_price)) {\n                await this.fulfill(notification._id);\n                notification.fulfilled = true;\n            }\n            if ((notification.type == \"Above\") && (notification.threshold < current_price)) {\n                console.log(notification._id);\n                await this.fulfill(notification._id);\n                notification.fulfilled = true;\n            }\n        }\n    }\n\n    private async fulfill(notification: any) {\n        const nIF = new NotificationModel();\n        await nIF.fulfill(notification._id);\n    }\n\n    private async check_local(userID: number) {\n        if (!userNotifications) {\n            return await this.buildNotifications(userID);\n        }\n        else if (id != userID) {\n            return await this.buildNotifications(userID);\n        }\n        return true;\n    }\n\n    private async setLocals(userID: number) {\n        await this.setUserNotifications(userID);\n        await this.setShoes();\n    }\n\n    private async setUserNotifications(userID:number) {\n        const notif_if = new NotificationModel();\n        userNotifications = await notif_if.getUserNotifications(userID);\n\n        return userNotifications;\n    }\n\n    private async setShoes() {\n        const shoe_if = new ShoeModel();\n        Shoes = await shoe_if.getAllDB();\n    }\n\n    public async inputNotification(req: Request, res: Response, next: NextFunction) {\n        const userIdString = \"id\";\n        const userId = parseInt(req.params[userIdString], 10);\n        const shoeIdString = \"id2\";\n        const shoeId = parseInt(req.params[shoeIdString], 10);\n        const shoeIF = new ShoeModel();\n        const shoe = await shoeIF.getOneShoe(shoeId);\n        if (shoe && await this.isUser(userId)) {\n            this.render(req, res, \"addNotification\", {id: userId, shoe});\n            /* res.status(200)\n                .send({\n                    message: 'Success',\n                    status: res.status,\n                    shoe\n                }); */\n        } else {\n            res.status(404)\n                .send({\n                    message: \"No shoe found with the given id.\",\n                    status: res.status,\n                });\n        }\n\n    }\n\n    public async editNotificationForm(req: Request, res: Response, next: NextFunction) {\n        const userIdString = \"id\";\n        const userId = parseInt(req.params[userIdString], 10);\n        const notIdString = \"id2\";\n        const notId = req.params[notIdString];\n        const notification = await this.getNotif(notId);\n        this.render(req, res, \"editNotification\", {id: userId, title: \"Notification\", notification:notification});\n    }\n\n    private getShoe(shoeID:number) {\n        for (const item in Shoes) {\n            if (Shoes.hasOwnProperty(item)) {\n                const shoe = Shoes[item];\n                if (shoe.shoe_id === shoeID) return shoe;\n            }\n        }\n    }\n\n    private async getNotif(id: any) {\n        const nIF = new NotificationModel();\n        const notif = await nIF.get_notif(id);\n        return notif[0];\n    }\n\n    private async isUser(userID: any) {\n        const userIF = new UserModel();\n        return await userIF.isUser(userID);\n    }\n}\n"]}